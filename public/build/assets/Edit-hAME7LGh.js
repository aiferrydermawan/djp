import{r as n,j as a,a as Ea,y as La}from"./app-i_i8lNkO.js";import{A as Ja}from"./AuthenticatedLayout-ByNHLaOi.js";import{L as l,V as i}from"./Validation-DLsG5ron.js";import{I as o}from"./Input-Ce__UF7s.js";import{I as Ha,N as Oa,a as Ba,C as p,b as Va,c as u}from"./NumberInput-C7-uvAtN.js";import{a as Ya}from"./bootstrap-DV31Mhsh.js";import{S as m}from"./Select-FI5uU3F5.js";/* empty css            */import"./transition-rLgmNscc.js";import"./keyboard-aTNyQO_v.js";const za=["00","01","02","03","04","05","06","07","08","09","10","11","12"],Fa=["rupiah","dollar"],d=s=>s.toString().replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,".");function te({errors:s,kpp_all:j,jenis_permohonan_all:h,unit_yang_memproses_all:k,jenis_ketetapan_all:N,dasar_pemrosesan_all:ea,pk_all:v,permohonan:t}){const[sa,b]=n.useState([]),[S,Ra]=n.useState(!1),[f,na]=n.useState(t.nama_wp),[P,ta]=n.useState(t.npwp),[K,la]=n.useState(t.nop),[r,ia]=n.useState(j.find(e=>e.id===t.kode_kpp_terdaftar)),[x,oa]=n.useState(h.find(e=>e.id===t.jenis_permohonan)),[_,ca]=n.useState(k.find(e=>e.id===t.unit_yang_memproses)),[g,ga]=n.useState(N.find(e=>e.id===t.jenis_ketetapan)),[T,ma]=n.useState(t.nomor_ketetapan),[C,pa]=n.useState(t.tanggal_ketetapan),[y,ua]=n.useState(t.tanggal_kirim_ketetapan),[w,W]=n.useState(t.jenis_pajak),[M,da]=n.useState(t.masa_pajak),[A,ja]=n.useState(t.tahun_pajak),[I,ra]=n.useState(t.mata_uang),[D,xa]=n.useState(d(t.nilai_1)),[U,_a]=n.useState(d(t.nilai_2)),[E,ha]=n.useState(d(t.nilai_3)),[L,ka]=n.useState(d(t.nilai_4)),[J,Na]=n.useState(t.dasar_pemrosesan),[H,va]=n.useState(t.nomor_surat_wp),[O,ba]=n.useState(t.tanggal_surat_wp),[B,Sa]=n.useState(t.nomor_lpad),[V,fa]=n.useState(t.tanggal_diterima),[Y,Pa]=n.useState(t.no_surat_pengantar_kpp),[z,Ka]=n.useState(t.tanggal_surat_pengantar),[F,Ta]=n.useState(t.tanggal_pengiriman_kpp),[R,Ca]=n.useState(t.nomor_surat_tugas),[q,ya]=n.useState(t.tanggal_surat_tugas),[G,wa]=n.useState(t.nama_pk),[Q,Wa]=n.useState(t.no_matriks),[X,Ma]=n.useState(t.tanggal_matriks),[Z,Aa]=n.useState(t.nomor_surat_tugas_2??""),[$,Ia]=n.useState(t.tanggal_surat_tugas_2??""),[aa,Da]=n.useState(t.nama_pk_2??"");n.useEffect(()=>{g!=null?Ya.get("/api/jenis-pajak",{params:{jenis_ketetapan_id:g}}).then(e=>{b(e.data),W(t.jenis_pajak)}).catch(e=>{console.error("There was an error!",e)}):b([])},[g]);const Ua=async e=>{e.preventDefault(),La.put(route("permohonan-keb-nkeb.update",t.id),{nama_wp:f,npwp:P,nop:K,kode_kpp_terdaftar:r?r.id:null,jenis_permohonan:x?x.id:null,unit_yang_memproses:_?_.id:null,jenis_ketetapan:g?g.id:null,nomor_ketetapan:T,tanggal_ketetapan:C,tanggal_kirim_ketetapan:y,jenis_pajak:w,masa_pajak:M,tahun_pajak:A,mata_uang:I,nilai_1:D,nilai_2:U,nilai_3:E,nilai_4:L,dasar_pemrosesan:J,nomor_surat_wp:H,tanggal_surat_wp:O,nomor_lpad:B,tanggal_diterima:V,no_surat_pengantar_kpp:Y,tanggal_surat_pengantar:z,tanggal_pengiriman_kpp:F,nomor_surat_tugas:R,tanggal_surat_tugas:q,no_matriks:Q,tanggal_matriks:X,nama_pk:G,nomor_surat_tugas_2:Z??null,tanggal_surat_tugas_2:$??null,nama_pk_2:aa??null})};return a.jsxs(a.Fragment,{children:[a.jsx(Ea,{title:"Input Permohonan KEB dan NKEB"}),S?a.jsx("div",{className:"fixed top-0 z-50 flex min-h-screen w-full items-center justify-center bg-white/50",children:a.jsx(Ha,{className:"h-16 w-16 animate-spin"})}):null,a.jsx(Ja,{children:a.jsxs("div",{className:"p-5",children:[a.jsx("div",{className:"breadcrumbs text-sm",children:a.jsxs("ul",{children:[a.jsx("li",{children:a.jsx("a",{href:route("permohonan-keb-nkeb.index"),children:"Permohonan Keb dan Non Keb"})}),a.jsx("li",{children:"Edit"})]})}),a.jsx("div",{className:"card mt-5 bg-base-100 shadow",children:a.jsx("div",{className:"card-body",children:a.jsx("form",{onSubmit:Ua,children:a.jsxs("div",{className:"grid grid-cols-4 gap-5",children:[a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"Nama WP"}),a.jsx(o,{value:f,onChange:e=>na(e.target.value),placeholder:"Type Here"}),s.nama_wp&&a.jsx(i,{children:s.nama_wp})]}),a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"NPWP"}),a.jsx(Oa,{value:P,onChange:e=>ta(e),placeholder:"Type Here"}),s.npwp&&a.jsx(i,{children:s.npwp})]}),a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"NOP *Tidak Wajib"}),a.jsx(Ba,{value:K,onChange:e=>la(e),placeholder:"Type Here"}),s.nop&&a.jsx(i,{children:s.nop})]}),a.jsx("div",{className:"col-span-2"}),a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"Kode KPP Terdaftar"}),a.jsx(p,{selected:r,onChange:ia,placeholder:"Pilih KPP",items:j}),s.kode_kpp_terdaftar&&a.jsx(i,{children:s.kode_kpp_terdaftar})]}),a.jsx("div",{className:"col-span-2"}),a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"Jenis Permohonan"}),a.jsx(p,{selected:x,onChange:oa,placeholder:"Kosong",items:h}),s.jenis_permohonan&&a.jsx(i,{children:s.jenis_permohonan})]}),a.jsx("div",{className:"col-span-2"}),a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"Unit yang Memproses"}),a.jsx(p,{selected:_,onChange:ca,placeholder:"Kosong",items:k}),s.unit_yang_memproses&&a.jsx(i,{children:s.unit_yang_memproses})]}),a.jsx("div",{className:"col-span-2"}),a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"Jenis Ketetapan"}),a.jsx(p,{selected:g,onChange:ga,placeholder:"Kosong",items:N}),s.jenis_ketetapan&&a.jsx(i,{children:s.jenis_ketetapan})]}),a.jsx("div",{className:"col-span-2"}),a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"Nomor Ketetapan"}),a.jsx(Va,{value:T,onChange:e=>ma(e)}),s.nomor_ketetapan&&a.jsx(i,{children:s.nomor_ketetapan})]}),a.jsxs("label",{className:"form-control col-span-1",children:[a.jsx(l,{name:"Tanggal Ketetapan"}),a.jsx(o,{value:C,type:"date",onChange:e=>pa(e.target.value)}),s.tanggal_ketetapan&&a.jsx(i,{children:s.tanggal_ketetapan})]}),a.jsxs("label",{className:"form-control col-span-1",children:[a.jsx(l,{name:"Tanggal Kirim Ketetapan"}),a.jsx(o,{value:y,type:"date",onChange:e=>ua(e.target.value)}),s.tanggal_kirim_ketetapan&&a.jsx(i,{children:s.tanggal_kirim_ketetapan})]}),a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"Jenis Pajak"}),a.jsxs(m,{value:w,onChange:e=>W(e.target.value),children:[a.jsx("option",{value:"",children:"Pilih 1"}),sa.map((e,c)=>a.jsx("option",{value:e.id,children:e.name},c))]}),s.jenis_pajak&&a.jsx(i,{children:s.jenis_pajak})]}),a.jsx("div",{className:"col-span-2"}),a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"Masa Pajak"}),a.jsxs(m,{value:M,onChange:e=>da(e.target.value),children:[a.jsx("option",{value:"",children:"Pilih 1"}),za.map((e,c)=>a.jsx("option",{value:e,children:e},c))]}),s.masa_pajak&&a.jsx(i,{children:s.masa_pajak})]}),a.jsxs("label",{className:"form-control col-span-1",children:[a.jsx(l,{name:"Tahun Pajak"}),a.jsx(o,{value:A,type:"number",placeholder:"Kosong",onChange:e=>ja(e.target.value)}),s.tahun_pajak&&a.jsx(i,{children:s.tahun_pajak})]}),a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"Mata Uang"}),a.jsxs(m,{value:I,onChange:e=>ra(e.target.value),children:[a.jsx("option",{value:"",children:"Pilih 1"}),Fa.map((e,c)=>a.jsx("option",{value:e,children:e},c))]}),s.mata_uang&&a.jsx(i,{children:s.mata_uang})]}),a.jsx("div",{className:"col-span-2"}),a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"Nilai Ketetapan (SKP / STP)"}),a.jsx(u,{value:D,placeholder:"Kosong",onChange:e=>xa(e)}),s.nilai_1&&a.jsx(i,{children:s.nilai_1})]}),a.jsx("div",{className:"col-span-2"}),a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"Nilai Sanksi Administrasi"}),a.jsx(u,{value:U,placeholder:"Kosong",onChange:e=>_a(e)}),s.nilai_2&&a.jsx(i,{children:s.nilai_2})]}),a.jsx("div",{className:"col-span-2"}),a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"Nilai Ketetapan / Sanksi Administrasi yang disetujui"}),a.jsx(u,{value:E,type:"text",placeholder:"Kosong",onChange:e=>ha(e)}),s.nilai_3&&a.jsx(i,{children:s.nilai_3})]}),a.jsx("div",{className:"col-span-2"}),a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"Nilai Ajukan Upaya Hukum"}),a.jsx(u,{value:L,placeholder:"Kosong",onChange:e=>ka(e)}),s.nilai_4&&a.jsx(i,{children:s.nilai_4})]}),a.jsx("div",{className:"col-span-2"}),a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"Dasar Pemrosesan"}),a.jsxs(m,{value:J,onChange:e=>Na(e.target.value),children:[a.jsx("option",{value:"",children:"Pilih 1"}),ea.map((e,c)=>a.jsx("option",{value:e.id,children:e.name},c))]}),s.dasar_pemrosesan&&a.jsx(i,{children:s.dasar_pemrosesan})]}),a.jsx("div",{className:"col-span-2"}),a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"Nomor Surat WP/Surat Usulan KPP"}),a.jsx(o,{value:H,type:"text",placeholder:"Kosong",onChange:e=>va(e.target.value)}),s.nomor_surat_wp&&a.jsx(i,{children:s.nomor_surat_wp})]}),a.jsxs("label",{className:"form-control col-span-1",children:[a.jsx(l,{name:"Tanggal Surat WP"}),a.jsx(o,{value:O,type:"date",placeholder:"Kosong",onChange:e=>ba(e.target.value)}),s.tanggal_surat_wp&&a.jsx(i,{children:s.tanggal_surat_wp})]}),a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"Nomor LPAD"}),a.jsx(o,{value:B,type:"text",placeholder:"Kosong",onChange:e=>Sa(e.target.value)}),s.nomor_lpad&&a.jsx(i,{children:s.nomor_lpad})]}),a.jsxs("label",{className:"form-control col-span-1",children:[a.jsx(l,{name:"Tanggal Diterima"}),a.jsx(o,{value:V,type:"date",placeholder:"Kosong",onChange:e=>fa(e.target.value)}),s.tanggal_diterima&&a.jsx(i,{children:s.tanggal_diterima})]}),a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"No Surat Pengantar dari KPP"}),a.jsx(o,{value:Y,type:"text",placeholder:"Kosong",onChange:e=>Pa(e.target.value)}),s.no_surat_pengantar_kpp&&a.jsx(i,{children:s.no_surat_pengantar_kpp})]}),a.jsxs("label",{className:"form-control col-span-1",children:[a.jsx(l,{name:"Tanggal Surat Pengantar"}),a.jsx(o,{value:z,type:"date",placeholder:"Kosong",onChange:e=>Ka(e.target.value)}),s.tanggal_surat_pengantar&&a.jsx(i,{children:s.tanggal_surat_pengantar})]}),a.jsxs("label",{className:"form-control col-span-1",children:[a.jsx(l,{name:"Tanggal Pengiriman KPP"}),a.jsx(o,{value:F,type:"date",placeholder:"Kosong",onChange:e=>Ta(e.target.value)}),s.tanggal_pengiriman_kpp&&a.jsx(i,{children:s.tanggal_pengiriman_kpp})]}),a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"Nomor Surat Tugas"}),a.jsx(o,{value:R,type:"text",placeholder:"Kosong",onChange:e=>Ca(e.target.value)}),s.nomor_surat_tugas&&a.jsx(i,{children:s.nomor_surat_tugas})]}),a.jsxs("label",{className:"form-control col-span-1",children:[a.jsx(l,{name:"Tanggal Surat Tugas"}),a.jsx(o,{value:q,type:"date",placeholder:"Kosong",onChange:e=>ya(e.target.value)}),s.tanggal_surat_tugas&&a.jsx(i,{children:s.tanggal_surat_tugas})]}),a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"No Matriks"}),a.jsx(o,{value:Q,type:"text",placeholder:"Kosong",onChange:e=>Wa(e.target.value)}),s.no_matriks&&a.jsx(i,{children:s.no_matriks})]}),a.jsxs("label",{className:"form-control col-span-1",children:[a.jsx(l,{name:"Tanggal Matriks"}),a.jsx(o,{value:X,type:"date",placeholder:"Kosong",onChange:e=>Ma(e.target.value)}),s.tanggal_matriks&&a.jsx(i,{children:s.tanggal_matriks})]}),a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"Nama PK"}),a.jsxs(m,{value:G,onChange:e=>wa(e.target.value),children:[a.jsx("option",{value:"",children:"Pilih 1"}),v.map((e,c)=>a.jsx("option",{value:e.id,children:e.name},c))]}),s.nama_pk&&a.jsx(i,{children:s.nama_pk})]}),a.jsx("div",{className:"col-span-2"}),a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"Nomor Surat Tugas Pengganti *Tidak Wajib"}),a.jsx(o,{value:Z,type:"text",placeholder:"Kosong",onChange:e=>Aa(e.target.value)}),s.nomor_surat_tugas_2&&a.jsx(i,{children:s.nomor_surat_tugas_2})]}),a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"Tanggal Surat Tugas Pengganti *Tidak Wajib"}),a.jsx(o,{value:$,className:"max-w-xs",type:"date",placeholder:"Kosong",onChange:e=>Ia(e.target.value)}),s.tanggal_surat_tugas_2&&a.jsx(i,{children:s.tanggal_surat_tugas_2})]}),a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"Nama PK Pengganti *Tidak Wajib"}),a.jsxs(m,{value:aa,onChange:e=>Da(e.target.value),children:[a.jsx("option",{value:"",children:"Pilih 1"}),v.map((e,c)=>a.jsx("option",{value:e.id,children:e.name},c))]}),s.nama_pk_2&&a.jsx(i,{children:s.nama_pk_2})]}),a.jsx("div",{className:"col-span-2"}),Object.keys(s).length>0?a.jsxs("div",{className:"col-span-4 rounded-lg bg-error p-4 shadow",children:[a.jsx("div",{className:"mb-4 font-medium",children:"Daftar Error"}),a.jsx("ul",{className:"w-full list-inside list-disc",children:Object.keys(s).map((e,c)=>a.jsx("li",{children:s[e]},c))})]}):null,a.jsx("div",{className:"col-span-4",children:a.jsx("button",{type:"submit",className:"btn btn-warning",disabled:S,children:"Update"})})]})})})})]})})]})}export{te as default};

import{r as t,j as a,a as za,y as Ra}from"./app-BMv87VXb.js";import{A as qa}from"./AuthenticatedLayout-DR8Nw1uz.js";import{L as l,V as i}from"./Validation-DVxWKvoX.js";import{I as d}from"./Input-CdrWFdVc.js";import{N as Ga}from"./NPWPInput-CTx4SQ3b.js";import{I as Qa,N as Xa,a as Za}from"./NoKetetapanInput-ZxAiTr0b.js";import{C as p}from"./CustomCombobox-DuHUZ723.js";import{a as $a}from"./bootstrap-DV31Mhsh.js";import{S as m}from"./Select-OcIfu3ej.js";import{N as r}from"./NumberInput-DzsNnoXi.js";import{D as c}from"./index-DkPj88go.js";/* empty css            */import"./transition-Q6oFoavm.js";import"./keyboard-_KpZhvhq.js";const ae=["00","01","02","03","04","05","06","07","08","09","10","11","12"],ee=["rupiah","dollar"],u=n=>n.toString().replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,".");function _e({errors:n,kpp_all:j,jenis_permohonan_all:K,unit_yang_memproses_all:C,jenis_ketetapan_all:w,dasar_pemrosesan_all:na,pk_all:M,permohonan:s}){const[sa,D]=t.useState([]),[A,ne]=t.useState(!1),[L,ta]=t.useState(s.nama_wp),[W,la]=t.useState(s.npwp),[F,ia]=t.useState(s.nop),[x,oa]=t.useState(j.find(e=>e.id===s.kode_kpp_terdaftar)),[_,ca]=t.useState(K.find(e=>e.id===s.jenis_permohonan)),[h,da]=t.useState(C.find(e=>e.id===s.unit_yang_memproses)),[g,ga]=t.useState(w.find(e=>e.id===s.jenis_ketetapan)),[I,ma]=t.useState(s.nomor_ketetapan),[k,pa]=t.useState(new Date(s.tanggal_ketetapan)),[N,ra]=t.useState(new Date(s.tanggal_kirim_ketetapan)),[U,E]=t.useState(s.jenis_pajak),[J,ua]=t.useState(s.masa_pajak),[H,ja]=t.useState(s.tahun_pajak),[O,xa]=t.useState(s.mata_uang),[B,_a]=t.useState(u(s.nilai_1)),[V,ha]=t.useState(u(s.nilai_2)),[Y,ka]=t.useState(u(s.nilai_3)),[z,Na]=t.useState(u(s.nilai_4)),[R,Sa]=t.useState(s.dasar_pemrosesan),[q,ba]=t.useState(s.nomor_surat_wp),[S,fa]=t.useState(new Date(s.tanggal_surat_wp)),[G,va]=t.useState(s.nomor_lpad),[b,Pa]=t.useState(new Date(s.tanggal_diterima)),[Q,ya]=t.useState(s.no_surat_pengantar_kpp),[f,Ta]=t.useState(new Date(s.tanggal_surat_pengantar)),[v,Ka]=t.useState(new Date(s.tanggal_pengiriman_kpp)),[X,Ca]=t.useState(s.nomor_surat_tugas),[P,wa]=t.useState(new Date(s.tanggal_surat_tugas)),[Z,Ma]=t.useState(s.nama_pk),[$,Da]=t.useState(s.no_matriks),[y,Aa]=t.useState(new Date(s.tanggal_matriks)),[aa,La]=t.useState(s.nomor_surat_tugas_2??""),[T,Wa]=t.useState(s.tanggal_surat_tugas_2?new Date(s.tanggal_surat_tugas_2):""),[ea,Fa]=t.useState(s.nama_pk_2??"");t.useEffect(()=>{g!=null?$a.get("/api/jenis-pajak",{params:{jenis_ketetapan_id:g}}).then(e=>{D(e.data),E(s.jenis_pajak)}).catch(e=>{console.error("There was an error!",e)}):D([])},[g]);const Ia=async e=>{e.preventDefault();const o=k?k.toLocaleDateString("en-CA"):null,Ua=N?N.toLocaleDateString("en-CA"):null,Ea=S?S.toLocaleDateString("en-CA"):null,Ja=b?b.toLocaleDateString("en-CA"):null,Ha=f?f.toLocaleDateString("en-CA"):null,Oa=v?v.toLocaleDateString("en-CA"):null,Ba=P?P.toLocaleDateString("en-CA"):null,Va=y?y.toLocaleDateString("en-CA"):null,Ya=T?T.toLocaleDateString("en-CA"):null;Ra.put(route("permohonan-keb-nkeb.update",s.id),{nama_wp:L,npwp:W,nop:F,kode_kpp_terdaftar:x?x.id:null,jenis_permohonan:_?_.id:null,unit_yang_memproses:h?h.id:null,jenis_ketetapan:g?g.id:null,nomor_ketetapan:I,tanggal_ketetapan:o,tanggal_kirim_ketetapan:Ua,jenis_pajak:U,masa_pajak:J,tahun_pajak:H,mata_uang:O,nilai_1:B,nilai_2:V,nilai_3:Y,nilai_4:z,dasar_pemrosesan:R,nomor_surat_wp:q,tanggal_surat_wp:Ea,nomor_lpad:G,tanggal_diterima:Ja,no_surat_pengantar_kpp:Q,tanggal_surat_pengantar:Ha,tanggal_pengiriman_kpp:Oa,nomor_surat_tugas:X,tanggal_surat_tugas:Ba,no_matriks:$,tanggal_matriks:Va,nama_pk:Z,nomor_surat_tugas_2:aa??null,tanggal_surat_tugas_2:Ya,nama_pk_2:ea??null})};return a.jsxs(a.Fragment,{children:[a.jsx(za,{title:"Input Permohonan KEB dan NKEB"}),A?a.jsx("div",{className:"fixed top-0 z-50 flex min-h-screen w-full items-center justify-center bg-white/50",children:a.jsx(Qa,{className:"h-16 w-16 animate-spin"})}):null,a.jsx(qa,{children:a.jsxs("div",{className:"p-5",children:[a.jsx("div",{className:"breadcrumbs text-sm",children:a.jsxs("ul",{children:[a.jsx("li",{children:a.jsx("a",{href:route("permohonan-keb-nkeb.index"),children:"Permohonan Keb dan Non Keb"})}),a.jsx("li",{children:"Edit"})]})}),a.jsx("div",{className:"card mt-5 bg-base-100 shadow",children:a.jsx("div",{className:"card-body",children:a.jsx("form",{onSubmit:Ia,children:a.jsxs("div",{className:"grid grid-cols-4 gap-5",children:[a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"Nama WP"}),a.jsx(d,{value:L,onChange:e=>ta(e.target.value),placeholder:"Type Here"}),n.nama_wp&&a.jsx(i,{children:n.nama_wp})]}),a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"NPWP"}),a.jsx(Ga,{value:W,onChange:e=>la(e),placeholder:"Type Here"}),n.npwp&&a.jsx(i,{children:n.npwp})]}),a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"NOP *Tidak Wajib"}),a.jsx(Xa,{value:F,onChange:e=>ia(e),placeholder:"Type Here"}),n.nop&&a.jsx(i,{children:n.nop})]}),a.jsx("div",{className:"col-span-2"}),a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"Kode KPP Terdaftar"}),a.jsx(p,{selected:x,onChange:oa,placeholder:"Pilih KPP",items:j}),n.kode_kpp_terdaftar&&a.jsx(i,{children:n.kode_kpp_terdaftar})]}),a.jsx("div",{className:"col-span-2"}),a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"Jenis Permohonan"}),a.jsx(p,{selected:_,onChange:ca,placeholder:"Kosong",items:K}),n.jenis_permohonan&&a.jsx(i,{children:n.jenis_permohonan})]}),a.jsx("div",{className:"col-span-2"}),a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"Unit yang Memproses"}),a.jsx(p,{selected:h,onChange:da,placeholder:"Kosong",items:C}),n.unit_yang_memproses&&a.jsx(i,{children:n.unit_yang_memproses})]}),a.jsx("div",{className:"col-span-2"}),a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"Jenis Ketetapan"}),a.jsx(p,{selected:g,onChange:ga,placeholder:"Kosong",items:w}),n.jenis_ketetapan&&a.jsx(i,{children:n.jenis_ketetapan})]}),a.jsx("div",{className:"col-span-2"}),a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"Nomor Ketetapan"}),a.jsx(Za,{value:I,onChange:e=>ma(e)}),n.nomor_ketetapan&&a.jsx(i,{children:n.nomor_ketetapan})]}),a.jsxs("label",{className:"form-control col-span-1",children:[a.jsx(l,{name:"Tanggal Ketetapan"}),a.jsx(c,{placeholderText:"kosong",className:"input input-bordered",selected:k,onChange:e=>pa(e),dateFormat:"dd-MM-yyyy"}),n.tanggal_ketetapan&&a.jsx(i,{children:n.tanggal_ketetapan})]}),a.jsxs("label",{className:"form-control col-span-1",children:[a.jsx(l,{name:"Tanggal Kirim Ketetapan"}),a.jsx(c,{placeholderText:"kosong",className:"input input-bordered",selected:N,onChange:e=>ra(e),dateFormat:"dd-MM-yyyy"}),n.tanggal_kirim_ketetapan&&a.jsx(i,{children:n.tanggal_kirim_ketetapan})]}),a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"Jenis Pajak"}),a.jsxs(m,{value:U,onChange:e=>E(e.target.value),children:[a.jsx("option",{value:"",children:"Pilih 1"}),sa.map((e,o)=>a.jsx("option",{value:e.id,children:e.name},o))]}),n.jenis_pajak&&a.jsx(i,{children:n.jenis_pajak})]}),a.jsx("div",{className:"col-span-2"}),a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"Masa Pajak"}),a.jsxs(m,{value:J,onChange:e=>ua(e.target.value),children:[a.jsx("option",{value:"",children:"Pilih 1"}),ae.map((e,o)=>a.jsx("option",{value:e,children:e},o))]}),n.masa_pajak&&a.jsx(i,{children:n.masa_pajak})]}),a.jsxs("label",{className:"form-control col-span-1",children:[a.jsx(l,{name:"Tahun Pajak"}),a.jsx(d,{value:H,type:"number",placeholder:"Kosong",onChange:e=>ja(e.target.value)}),n.tahun_pajak&&a.jsx(i,{children:n.tahun_pajak})]}),a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"Mata Uang"}),a.jsxs(m,{value:O,onChange:e=>xa(e.target.value),children:[a.jsx("option",{value:"",children:"Pilih 1"}),ee.map((e,o)=>a.jsx("option",{value:e,children:e},o))]}),n.mata_uang&&a.jsx(i,{children:n.mata_uang})]}),a.jsx("div",{className:"col-span-2"}),a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"Nilai Ketetapan (SKP / STP)"}),a.jsx(r,{value:B,placeholder:"Kosong",onChange:e=>_a(e)}),n.nilai_1&&a.jsx(i,{children:n.nilai_1})]}),a.jsx("div",{className:"col-span-2"}),a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"Nilai Sanksi Administrasi"}),a.jsx(r,{value:V,placeholder:"Kosong",onChange:e=>ha(e)}),n.nilai_2&&a.jsx(i,{children:n.nilai_2})]}),a.jsx("div",{className:"col-span-2"}),a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"Nilai Ketetapan / Sanksi Administrasi yang disetujui"}),a.jsx(r,{value:Y,type:"text",placeholder:"Kosong",onChange:e=>ka(e)}),n.nilai_3&&a.jsx(i,{children:n.nilai_3})]}),a.jsx("div",{className:"col-span-2"}),a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"Nilai Ajukan Upaya Hukum"}),a.jsx(r,{value:z,placeholder:"Kosong",onChange:e=>Na(e)}),n.nilai_4&&a.jsx(i,{children:n.nilai_4})]}),a.jsx("div",{className:"col-span-2"}),a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"Dasar Pemrosesan"}),a.jsxs(m,{value:R,onChange:e=>Sa(e.target.value),children:[a.jsx("option",{value:"",children:"Pilih 1"}),na.map((e,o)=>a.jsx("option",{value:e.id,children:e.name},o))]}),n.dasar_pemrosesan&&a.jsx(i,{children:n.dasar_pemrosesan})]}),a.jsx("div",{className:"col-span-2"}),a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"Nomor Surat WP/Surat Usulan KPP"}),a.jsx(d,{value:q,type:"text",placeholder:"Kosong",onChange:e=>ba(e.target.value)}),n.nomor_surat_wp&&a.jsx(i,{children:n.nomor_surat_wp})]}),a.jsxs("label",{className:"form-control col-span-1",children:[a.jsx(l,{name:"Tanggal Surat WP"}),a.jsx(c,{placeholderText:"kosong",className:"input input-bordered",selected:S,onChange:e=>fa(e),dateFormat:"dd-MM-yyyy"}),n.tanggal_surat_wp&&a.jsx(i,{children:n.tanggal_surat_wp})]}),a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"Nomor LPAD"}),a.jsx(d,{value:G,type:"text",placeholder:"Kosong",onChange:e=>va(e.target.value)}),n.nomor_lpad&&a.jsx(i,{children:n.nomor_lpad})]}),a.jsxs("label",{className:"form-control col-span-1",children:[a.jsx(l,{name:"Tanggal Diterima"}),a.jsx(c,{placeholderText:"kosong",className:"input input-bordered",selected:b,onChange:e=>Pa(e),dateFormat:"dd-MM-yyyy"}),n.tanggal_diterima&&a.jsx(i,{children:n.tanggal_diterima})]}),a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"No Surat Pengantar dari KPP"}),a.jsx(d,{value:Q,type:"text",placeholder:"Kosong",onChange:e=>ya(e.target.value)}),n.no_surat_pengantar_kpp&&a.jsx(i,{children:n.no_surat_pengantar_kpp})]}),a.jsxs("label",{className:"form-control col-span-1",children:[a.jsx(l,{name:"Tanggal Surat Pengantar"}),a.jsx(c,{placeholderText:"kosong",className:"input input-bordered",selected:f,onChange:e=>Ta(e),dateFormat:"dd-MM-yyyy"}),n.tanggal_surat_pengantar&&a.jsx(i,{children:n.tanggal_surat_pengantar})]}),a.jsxs("label",{className:"form-control col-span-1",children:[a.jsx(l,{name:"Tanggal Pengiriman KPP"}),a.jsx(c,{placeholderText:"kosong",className:"input input-bordered",selected:v,onChange:e=>Ka(e),dateFormat:"dd-MM-yyyy"}),n.tanggal_pengiriman_kpp&&a.jsx(i,{children:n.tanggal_pengiriman_kpp})]}),a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"Nomor Surat Tugas"}),a.jsx(d,{value:X,type:"text",placeholder:"Kosong",onChange:e=>Ca(e.target.value)}),n.nomor_surat_tugas&&a.jsx(i,{children:n.nomor_surat_tugas})]}),a.jsxs("label",{className:"form-control col-span-1",children:[a.jsx(l,{name:"Tanggal Surat Tugas"}),a.jsx(c,{placeholderText:"kosong",className:"input input-bordered",selected:P,onChange:e=>wa(e),dateFormat:"dd-MM-yyyy"}),n.tanggal_surat_tugas&&a.jsx(i,{children:n.tanggal_surat_tugas})]}),a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"No Matriks"}),a.jsx(d,{value:$,type:"text",placeholder:"Kosong",onChange:e=>Da(e.target.value)}),n.no_matriks&&a.jsx(i,{children:n.no_matriks})]}),a.jsxs("label",{className:"form-control col-span-1",children:[a.jsx(l,{name:"Tanggal Matriks"}),a.jsx(c,{placeholderText:"kosong",className:"input input-bordered",selected:y,onChange:e=>Aa(e),dateFormat:"dd-MM-yyyy"}),n.tanggal_matriks&&a.jsx(i,{children:n.tanggal_matriks})]}),a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"Nama PK"}),a.jsxs(m,{value:Z,onChange:e=>Ma(e.target.value),children:[a.jsx("option",{value:"",children:"Pilih 1"}),M.map((e,o)=>a.jsx("option",{value:e.id,children:e.name},o))]}),n.nama_pk&&a.jsx(i,{children:n.nama_pk})]}),a.jsx("div",{className:"col-span-2"}),a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"Nomor Surat Tugas Pengganti *Tidak Wajib"}),a.jsx(d,{value:aa,type:"text",placeholder:"Kosong",onChange:e=>La(e.target.value)}),n.nomor_surat_tugas_2&&a.jsx(i,{children:n.nomor_surat_tugas_2})]}),a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"Tanggal Surat Tugas Pengganti *Tidak Wajib"}),a.jsx(c,{placeholderText:"kosong",className:"input input-bordered",selected:T,onChange:e=>Wa(e),dateFormat:"dd-MM-yyyy"}),n.tanggal_surat_tugas_2&&a.jsx(i,{children:n.tanggal_surat_tugas_2})]}),a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"Nama PK Pengganti *Tidak Wajib"}),a.jsxs(m,{value:ea,onChange:e=>Fa(e.target.value),children:[a.jsx("option",{value:"",children:"Pilih 1"}),M.map((e,o)=>a.jsx("option",{value:e.id,children:e.name},o))]}),n.nama_pk_2&&a.jsx(i,{children:n.nama_pk_2})]}),a.jsx("div",{className:"col-span-2"}),Object.keys(n).length>0?a.jsxs("div",{className:"col-span-4 rounded-lg bg-error p-4 shadow",children:[a.jsx("div",{className:"mb-4 font-medium",children:"Daftar Error"}),a.jsx("ul",{className:"w-full list-inside list-disc",children:Object.keys(n).map((e,o)=>a.jsx("li",{children:n[e]},o))})]}):null,a.jsx("div",{className:"col-span-4",children:a.jsx("button",{type:"submit",className:"btn btn-warning",disabled:A,children:"Update"})})]})})})})]})})]})}export{_e as default};

import{r as s,j as a,a as va,y as ya}from"./app-DfrJRgvT.js";import{A as wa}from"./AuthenticatedLayout-CUzkgCiB.js";import{L as l,V as o}from"./Validation-QBFRn8T2.js";import{I as i}from"./Input-CxQwBX56.js";import{I as Ta,N as Ca,a as Ka}from"./NoKetetapanInput-BMLx8wON.js";import{C as J}from"./CustomCombobox-mCJn_se1.js";import{S as g}from"./Select-D7Kjmn5G.js";import{N as Da}from"./NumberInput-D5uJxQ2_.js";import{D as r}from"./index-BCGjKKhH.js";import"./bootstrap-DV31Mhsh.js";/* empty css            */import"./transition-CW2YqydR.js";import"./keyboard-CovVCUfX.js";const Ma=["00","01","02","03","04","05","06","07","08","09","10","11","12"],La=n=>n.toString().replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,".");function Qa({errors:n,kpp_all:d,jenis_permohonan_all:S,jenis_ketetapan_all:Aa,dasar_pemrosesan_all:U,pk_all:P,permohonan:t}){const[f,Wa]=s.useState(!1),[v,V]=s.useState(t.nama_wp),[y,z]=s.useState(t.npwp),[w,R]=s.useState(t.nop),[m,q]=s.useState(d.find(e=>e.id===t.kode_kpp_terdaftar)),[u,G]=s.useState(S.find(e=>e.id===t.jenis_permohonan)),[T,Q]=s.useState(t.nomor_ketetapan),[p,X]=s.useState(new Date(t.tanggal_ketetapan)),[C,Y]=s.useState(t.masa_pajak),[K,Z]=s.useState(t.tahun_pajak),[D,$]=s.useState(La(t.nilai_1)),[M,aa]=s.useState(t.dasar_pemrosesan),[L,ea]=s.useState(t.nomor_surat_wp),[j,na]=s.useState(new Date(t.tanggal_surat_wp)),[A,ta]=s.useState(t.nomor_lpad),[x,sa]=s.useState(new Date(t.tanggal_diterima)),[W,la]=s.useState(t.no_surat_pengantar_kpp),[_,oa]=s.useState(new Date(t.tanggal_surat_pengantar)),[h,ca]=s.useState(new Date(t.tanggal_pengiriman_kpp)),[F,ia]=s.useState(t.nomor_surat_tugas),[k,ra]=s.useState(new Date(t.tanggal_surat_tugas)),[I,ga]=s.useState(t.nama_pk),[E,da]=s.useState(t.no_matriks),[N,ma]=s.useState(new Date(t.tanggal_matriks)),[B,ua]=s.useState(t.nomor_surat_tugas_2??""),[b,pa]=s.useState(t.tanggal_surat_tugas_2?new Date(t.tanggal_surat_tugas_2):""),[O,ja]=s.useState(t.nama_pk_2??""),[H,xa]=s.useState(t.tahun_berkas),_a=async e=>{e.preventDefault();const c=p?p.toLocaleDateString("en-CA"):null,ha=j?j.toLocaleDateString("en-CA"):null,ka=x?x.toLocaleDateString("en-CA"):null,Na=_?_.toLocaleDateString("en-CA"):null,ba=h?h.toLocaleDateString("en-CA"):null,Sa=k?k.toLocaleDateString("en-CA"):null,Pa=N?N.toLocaleDateString("en-CA"):null,fa=b?b.toLocaleDateString("en-CA"):null;ya.put(route("permohonan-keb-nkeb.update",t.id),{nama_wp:v,npwp:y,nop:w,kode_kpp_terdaftar:m?m.id:null,jenis_permohonan:u?u.id:null,nomor_ketetapan:T,tanggal_ketetapan:c,masa_pajak:C,tahun_pajak:K,nilai_1:D,dasar_pemrosesan:M,nomor_surat_wp:L,tanggal_surat_wp:ha,nomor_lpad:A,tanggal_diterima:ka,no_surat_pengantar_kpp:W,tanggal_surat_pengantar:Na,tanggal_pengiriman_kpp:ba,nomor_surat_tugas:F,tanggal_surat_tugas:Sa,no_matriks:E,tanggal_matriks:Pa,nama_pk:I,nomor_surat_tugas_2:B??null,tanggal_surat_tugas_2:fa,nama_pk_2:O??null,tahun_berkas:H})};return a.jsxs(a.Fragment,{children:[a.jsx(va,{title:"Input Permohonan KEB dan NKEB"}),f?a.jsx("div",{className:"fixed top-0 z-50 flex min-h-screen w-full items-center justify-center bg-white/50",children:a.jsx(Ta,{className:"h-16 w-16 animate-spin"})}):null,a.jsx(wa,{children:a.jsxs("div",{className:"p-5",children:[a.jsx("div",{className:"breadcrumbs text-sm",children:a.jsxs("ul",{children:[a.jsx("li",{children:a.jsx("a",{href:route("permohonan-keb-nkeb.index"),children:"Permohonan Keb dan Non Keb"})}),a.jsx("li",{children:"Edit"})]})}),a.jsx("div",{className:"card mt-5 bg-base-100 shadow",children:a.jsx("div",{className:"card-body",children:a.jsx("form",{onSubmit:_a,children:a.jsxs("div",{className:"grid grid-cols-4 gap-5",children:[a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"Nama WP (wajib)"}),a.jsx(i,{value:v,onChange:e=>V(e.target.value),placeholder:"Type Here"}),n.nama_wp&&a.jsx(o,{children:n.nama_wp})]}),a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"NPWP (wajib)"}),a.jsx(i,{value:y,onChange:e=>z(e.target.value),placeholder:"Type Here"}),n.npwp&&a.jsx(o,{children:n.npwp})]}),a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"NOP"}),a.jsx(Ca,{value:w,onChange:e=>R(e),placeholder:"Type Here"}),n.nop&&a.jsx(o,{children:n.nop})]}),a.jsx("div",{className:"col-span-2"}),a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"Kode KPP Terdaftar (wajib)"}),a.jsx(J,{selected:m,onChange:q,placeholder:"Pilih KPP",items:d}),n.kode_kpp_terdaftar&&a.jsx(o,{children:n.kode_kpp_terdaftar})]}),a.jsx("div",{className:"col-span-2"}),a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"Jenis Permohonan (wajib)"}),a.jsx(J,{selected:u,onChange:G,placeholder:"Kosong",items:S}),n.jenis_permohonan&&a.jsx(o,{children:n.jenis_permohonan})]}),a.jsx("div",{className:"col-span-2"}),a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"Nomor Ketetapan (wajib)"}),a.jsx(Ka,{value:T,onChange:e=>Q(e)}),n.nomor_ketetapan&&a.jsx(o,{children:n.nomor_ketetapan})]}),a.jsxs("label",{className:"form-control col-span-1",children:[a.jsx(l,{name:"Tanggal Ketetapan (wajib)"}),a.jsx(r,{placeholderText:"kosong",className:"input input-bordered",selected:p,onChange:e=>X(e),dateFormat:"dd-MM-yyyy"}),n.tanggal_ketetapan&&a.jsx(o,{children:n.tanggal_ketetapan})]}),a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"Masa Pajak (wajib)"}),a.jsxs(g,{value:C,onChange:e=>Y(e.target.value),children:[a.jsx("option",{value:"",children:"Pilih 1"}),Ma.map((e,c)=>a.jsx("option",{value:e,children:e},c))]}),n.masa_pajak&&a.jsx(o,{children:n.masa_pajak})]}),a.jsxs("label",{className:"form-control col-span-1",children:[a.jsx(l,{name:"Tahun Pajak (wajib)"}),a.jsx(i,{value:K,type:"number",placeholder:"Kosong",onChange:e=>Z(e.target.value)}),n.tahun_pajak&&a.jsx(o,{children:n.tahun_pajak})]}),a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"Nilai Ketetapan (SKP / STP) (wajib)"}),a.jsx(Da,{value:D,placeholder:"Kosong",onChange:e=>$(e)}),n.nilai_1&&a.jsx(o,{children:n.nilai_1})]}),a.jsx("div",{className:"col-span-2"}),a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"Dasar Pemrosesan (wajib)"}),a.jsxs(g,{value:M,onChange:e=>aa(e.target.value),children:[a.jsx("option",{value:"",children:"Pilih 1"}),U.map((e,c)=>a.jsx("option",{value:e.id,children:e.name},c))]}),n.dasar_pemrosesan&&a.jsx(o,{children:n.dasar_pemrosesan})]}),a.jsx("div",{className:"col-span-2"}),a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"Nomor Surat WP/Surat Usulan KPP"}),a.jsx(i,{value:L,type:"text",placeholder:"Kosong",onChange:e=>ea(e.target.value)}),n.nomor_surat_wp&&a.jsx(o,{children:n.nomor_surat_wp})]}),a.jsxs("label",{className:"form-control col-span-1",children:[a.jsx(l,{name:"Tanggal Surat WP"}),a.jsx(r,{placeholderText:"kosong",className:"input input-bordered",selected:j,onChange:e=>na(e),dateFormat:"dd-MM-yyyy"}),n.tanggal_surat_wp&&a.jsx(o,{children:n.tanggal_surat_wp})]}),a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"Nomor LPAD (wajib)"}),a.jsx(i,{value:A,type:"text",placeholder:"Kosong",onChange:e=>ta(e.target.value)}),n.nomor_lpad&&a.jsx(o,{children:n.nomor_lpad})]}),a.jsxs("label",{className:"form-control col-span-1",children:[a.jsx(l,{name:"Tanggal Diterima (wajib)"}),a.jsx(r,{placeholderText:"kosong",className:"input input-bordered",selected:x,onChange:e=>sa(e),dateFormat:"dd-MM-yyyy"}),n.tanggal_diterima&&a.jsx(o,{children:n.tanggal_diterima})]}),a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"No Surat Pengantar dari KPP"}),a.jsx(i,{value:W,type:"text",placeholder:"Kosong",onChange:e=>la(e.target.value)}),n.no_surat_pengantar_kpp&&a.jsx(o,{children:n.no_surat_pengantar_kpp})]}),a.jsxs("label",{className:"form-control col-span-1",children:[a.jsx(l,{name:"Tanggal Surat Pengantar"}),a.jsx(r,{placeholderText:"kosong",className:"input input-bordered",selected:_,onChange:e=>oa(e),dateFormat:"dd-MM-yyyy"}),n.tanggal_surat_pengantar&&a.jsx(o,{children:n.tanggal_surat_pengantar})]}),a.jsxs("label",{className:"form-control col-span-1",children:[a.jsx(l,{name:"Tanggal Pengiriman KPP"}),a.jsx(r,{placeholderText:"kosong",className:"input input-bordered",selected:h,onChange:e=>ca(e),dateFormat:"dd-MM-yyyy"}),n.tanggal_pengiriman_kpp&&a.jsx(o,{children:n.tanggal_pengiriman_kpp})]}),a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"Nomor Surat Tugas"}),a.jsx(i,{value:F,type:"text",placeholder:"Kosong",onChange:e=>ia(e.target.value)}),n.nomor_surat_tugas&&a.jsx(o,{children:n.nomor_surat_tugas})]}),a.jsxs("label",{className:"form-control col-span-1",children:[a.jsx(l,{name:"Tanggal Surat Tugas"}),a.jsx(r,{placeholderText:"kosong",className:"input input-bordered",selected:k,onChange:e=>ra(e),dateFormat:"dd-MM-yyyy"}),n.tanggal_surat_tugas&&a.jsx(o,{children:n.tanggal_surat_tugas})]}),a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"No Matriks"}),a.jsx(i,{value:E,type:"text",placeholder:"Kosong",onChange:e=>da(e.target.value)}),n.no_matriks&&a.jsx(o,{children:n.no_matriks})]}),a.jsxs("label",{className:"form-control col-span-1",children:[a.jsx(l,{name:"Tanggal Matriks"}),a.jsx(r,{placeholderText:"kosong",className:"input input-bordered",selected:N,onChange:e=>ma(e),dateFormat:"dd-MM-yyyy"}),n.tanggal_matriks&&a.jsx(o,{children:n.tanggal_matriks})]}),a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"Nama PK (wajib)"}),a.jsxs(g,{value:I,onChange:e=>ga(e.target.value),children:[a.jsx("option",{value:"",children:"Pilih 1"}),P.map((e,c)=>a.jsx("option",{value:e.id,children:e.name},c))]}),n.nama_pk&&a.jsx(o,{children:n.nama_pk})]}),a.jsx("div",{className:"col-span-2"}),a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"Nomor Surat Tugas Pengganti"}),a.jsx(i,{value:B,type:"text",placeholder:"Kosong",onChange:e=>ua(e.target.value)}),n.nomor_surat_tugas_2&&a.jsx(o,{children:n.nomor_surat_tugas_2})]}),a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"Tanggal Surat Tugas Pengganti"}),a.jsx(r,{placeholderText:"kosong",className:"input input-bordered",selected:b,onChange:e=>pa(e),dateFormat:"dd-MM-yyyy"}),n.tanggal_surat_tugas_2&&a.jsx(o,{children:n.tanggal_surat_tugas_2})]}),a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"Nama PK Pengganti"}),a.jsxs(g,{value:O,onChange:e=>ja(e.target.value),children:[a.jsx("option",{value:"",children:"Pilih 1"}),P.map((e,c)=>a.jsx("option",{value:e.id,children:e.name},c))]}),n.nama_pk_2&&a.jsx(o,{children:n.nama_pk_2})]}),a.jsxs("label",{className:"form-control col-span-2",children:[a.jsx(l,{name:"Tahun Berkas (wajib)"}),a.jsx(i,{value:H,onChange:e=>xa(e.target.value),placeholder:"Contoh: 2025",type:"number"}),n.tahun_berkas&&a.jsx(o,{children:n.tahun_berkas})]}),Object.keys(n).length>0?a.jsxs("div",{className:"col-span-4 rounded-lg bg-error p-4 shadow",children:[a.jsx("div",{className:"mb-4 font-medium",children:"Daftar Error"}),a.jsx("ul",{className:"w-full list-inside list-disc",children:Object.keys(n).map((e,c)=>a.jsx("li",{children:n[e]},c))})]}):null,a.jsx("div",{className:"col-span-4",children:a.jsx("button",{type:"submit",className:"btn btn-warning",disabled:f,children:"Update"})})]})})})})]})})]})}export{Qa as default};
